<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Keg Beer Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="modern-header">
        <h1 class="modern-title">Keg Beer Manager</h1>
        <p class="modern-subtitle">Track your kegs, pours, and ABV with a modern interface</p>
    </header>
    <main class="flex-row modern-main">
        <section class="container modern-card" id="kegSection">
            <h2 class="modern-section-title">Keg Management</h2>
            <div id="kegSelectorArea">
                <button id="showAddKegBtn" onclick="showAddKegForm()" class="modern-btn-wide">Add a new keg</button>
                <div class="modern-btn-group">
                    <button id="editKegBtn" onclick="showEditKegForm()" class="modern-btn-flex">Edit Keg</button>
                    <button class="remove-keg-btn modern-btn-flex" onclick="removeKeg()">Remove Keg</button>
                </div>
                <select id="kegSelector" onchange="handleSelectKeg()" class="modern-select"></select>
                <div id="selectedKegInfo" class="modern-info-box"></div>
                <button id="showPourBeersBtn" onclick="showPourBeersForm()" class="modern-btn-wide">Pour Beer(s)</button>
                <div id="pourBeersForm" class="modern-form-box" style="display:none;">
                    <label for="beersPoured" class="modern-label">How many beers have been poured?</label>
                    <input type="number" id="beersPoured" class="modern-input">
                    <div class="modern-btn-group">
                        <button onclick="pourBeers()" class="modern-btn-flex">Submit</button>
                        <button onclick="hidePourBeersForm()" type="button" class="modern-btn-flex modern-btn-secondary">Cancel</button>
                    </div>
                </div>
                <div id="pourResult"></div>
                <div id="editKegForm" class="modern-form-box" style="display:none;">
                    <label for="editKegName" class="modern-label">Keg Name:</label>
                    <input type="text" id="editKegName" class="modern-input">
                    <label for="editKegWeight" class="modern-label">Keg Weight (lbs):</label>
                    <input type="number" id="editKegWeight" step="0.01" class="modern-input">
                    <label for="editKegAbv" class="modern-label">ABV (%):</label>
                    <input type="number" id="editKegAbv" step="0.01" min="0" max="100" class="modern-input">
                    <div class="modern-btn-group">
                        <button onclick="saveEditKeg()" class="modern-btn-flex">Save</button>
                        <button onclick="hideEditKegForm()" type="button" class="modern-btn-flex modern-btn-secondary">Cancel</button>
                    </div>
                    <div id="editKegResult"></div>
                </div>
            </div>
            <div id="addKegForm" class="modern-form-box" style="display:none;">
                <label for="kegName" class="modern-label">Beer name/Keg name:</label>
                <input type="text" id="kegName" class="modern-input">
                <label for="kegWeight" class="modern-label">Weight of the keg (lbs):</label>
                <input type="number" id="kegWeight" step="0.01" class="modern-input">
                <label for="kegAbv" class="modern-label">ABV (%):</label>
                <input type="number" id="kegAbv" step="0.01" min="0" max="100" placeholder="e.g. 5.2" class="modern-input">
                <div class="modern-btn-group">
                    <button onclick="handleAddKeg()" class="modern-btn-flex">Add</button>
                    <button onclick="hideAddKegForm()" type="button" class="modern-btn-flex modern-btn-secondary">Cancel</button>
                </div>
                <div id="addKegResult"></div>
            </div>
        </section>
        <section class="container modern-card" id="abvCalcSection">
            <h2 class="modern-section-title">Alcohol By Volume (ABV) Calculator</h2>
            <label for="adjustment" class="modern-label">Hydrometer Adjustment (e.g., 0.004):</label>
            <div class="input-row">
                <input type="text" id="adjustment" placeholder="0.004" value="0.004" oninput="sanitizeNumericInput(this); setHydrometerAdjustment();" class="modern-input">
                <button class="clear-btn" onclick="clearInput('adjustment'); setHydrometerAdjustment();">Clear</button>
            </div>
            <label for="og" class="modern-label">Original Gravity (e.g., 1.050):</label>
            <div class="input-row">
                <input type="text" id="og" placeholder="1.050" value="1.050" oninput="sanitizeNumericInput(this);" onblur="formatGravityField('og')" class="modern-input">
                <button class="clear-btn" onclick="clearInput('og')">Clear</button>
            </div>
            <label for="fg" class="modern-label">Final Gravity (e.g., 1.010):</label>
            <div class="input-row">
                <input type="text" id="fg" placeholder="1.010" value="1.010" oninput="sanitizeNumericInput(this);" onblur="formatGravityField('fg')" class="modern-input">
                <button class="clear-btn" onclick="clearInput('fg')">Clear</button>
            </div>
            <div class="modern-btn-group">
                <button onclick="abvCalculator()" class="modern-btn-flex">Calculate ABV</button>
                <button onclick="clearAllInputs()" class="modern-btn-flex modern-btn-secondary">Clear All</button>
            </div>
            <div id="result"></div>
        </section>
    </main>
    <script src="abvCalculator.js"></script>
    <script src="kegManager.js"></script>
    <script>
        function showAddKegForm() {
            document.getElementById('addKegForm').style.display = '';
            document.getElementById('kegSelectorArea').style.display = 'none';
        }
        function hideAddKegForm() {
            document.getElementById('addKegForm').style.display = 'none';
            document.getElementById('kegSelectorArea').style.display = '';
        }
        window.addEventListener('DOMContentLoaded', () => {
            refreshKegSelector();
        });
    </script>
</body>
</html>
